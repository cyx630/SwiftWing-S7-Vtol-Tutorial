# 准备通信链路

* 硬件准备为每次飞行都需要进行
* 软件准备为第一次，按照教程配置。后续飞行，按需调整对应配置即可

## 硬件准备

1. SIYI通信链路地面端
2. 遥控器、接收机
3. VtolS7无人机主体
4. 无人机电池
5. 电脑

* 给SIYI通信链路地面端、遥控器上电

  * 将HM30本体对准电池卡槽，向下按压电池，确保安装没有虚位
    ![1763364029549](image/6_准备通信链路/1763364029549.png)
    ![1763364381092](image/6_准备通信链路/1763364381092.png)
  * 如需完成电池拆卸，需按住黑色按钮，上抬电池即可完成拆卸
    ![1763364519131](image/6_准备通信链路/1763364519131.png)
  * 如图所示，短按加长按按钮启动通信链路地面端
    ![1763346094226](image/6_准备通信链路/1763346094226.png)
* 硬件连接到SIYI通信链路地面端

  * 连接接收机
  * 连接电脑网口、USB口

![1763345777122](image/6_准备通信链路/1763345777122.png)

* 将VtolS7无人机放置到空旷的起飞点，然后上电，关闭电池仓

![1763345809574](image/6_准备通信链路/1763345809574.png)
![1763345827180](image/6_准备通信链路/1763345827180.png)

* 等待SIYI通信链路地面端的提示灯由红变蓝

## 软件准备

### 无线连接飞控

* 部分电脑USB在连接上SIYI通信链路地面端，打开QGC后，会自动连接上。

  * 如果没有自动连接，则按照下面教程手动连接
* 打开电脑设备管理器，找到新增的端口

![1763345994115](image/6_准备通信链路/1763345994115.png)

* 打开QGC软件，新增一个端口连接，配置如下，然后点击确认

![1763346567928](image/6_准备通信链路/1763346567928.png)

1. 选中刚才新建的连接配置
2. 点击连接，然后返回主页即可

![1763346649957](image/6_准备通信链路/1763346649957.png)

* QGC主页有数据显示则说明连接成功

![1754731361348](image/6_准备通信链路/1754731361348.png)

### Nomachine 无线连接机载电脑

* 电脑网口连接SIYI通信链路地面端
* 打开网络配置的以太网

![1754732196975](image/6_准备通信链路/1754732196975.png)

* 点击，编辑

![1754732257844](image/6_准备通信链路/1754732257844.png)

* 按照下图配置网络即可

![1754732329740](image/6_准备通信链路/1754732329740.png)

* 在终端测试，收到机载的回复，说明可以ssh、nomachine等远程访问机载了

![1754732433607](image/6_准备通信链路/1754732433607.png)

* 打开Nomachine远程软件，添加下面的连接设置，再点击Add保存

![1754732730236](image/6_准备通信链路/1754732730236.png)

* 双击，开始连接

![1754732824934](image/6_准备通信链路/1754732824934.png)

* 输入账号、密码，点击OK

![1754732870919](image/6_准备通信链路/1754732870919.png)

* 出现下图，则说明远程访问机载成功

![1754732952902](image/6_准备通信链路/1754732952902.png)

### VSCode SSH 连接机载电脑(推荐)

- 打开VS Code，安装Remote - SSH插件
  ![](./img/ssh插件.png)
- VS Code打开左下角绿色按钮，选择“连接到主机”
  ![](./img/ssh连接主机.png)
- 选择“配置SSH主机”
  ![](./img/配置ssh.png)
- 选择默认的SSH配置文件即可，将以下文字复制到.config文件中。

```
Host swing
    port 22
    HostName 192.168.144.60
    User swing
```

- 再次点击VS Code左下角绿色按钮，选择“连接到主机”，随后选择swing进行连接。
  ![](./img/swing连接.png)
- SSH远程连接成功后，可在VS Code中新建终端，进行机载计算机的远程终端操作。
