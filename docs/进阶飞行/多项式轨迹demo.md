### 代码说明：
**多项式轨迹点生成：**
多项式轨迹根据输入的路径点生成，demo中的路径点数组为
```python
points = np.array([[100.,-100.,50],
	           [0,-200,50],
	           [-100,-100,50],
	           [0,0,50],
	           [100,100,50],
	           [0,200,50],
	           [-100,100,50],
	           [0,0,50]])
```
points为$n \times 3$维度的数组，$n$为路径点数量。

`traj = PolynomialTraj3Order(dimension, points, loop_flag=1)`中``loop_flag=1``会自动将points数组的首尾亮点闭合，形成封闭曲线路径。
若自定义多项式轨迹，请预先在仿真环境中测试飞行效果!!!



**机载启动流程：**
- 在VSCode中，使用ssh远程连接至机载电脑，进入``/home/program/swiftwing``目录；
- 打开一个终端，启动mavros连接:
```shell
roslaunch mavros swing.launch
```
- 打开另一个终端，启动圆路径跟踪控制节点：
```shell
roslaunch single_demo plane_poly_track.launch
```
当终端中能够获取到无人机的模式时，显示“POSCTL”时候，表示已经成功建立链接，在此之后可以切换到offboard模式控制。

* 下图方框所示为还没有获取到无人机模式的情况，需要等待一段时间，直到获取到模式后，才能切换到offboard模式。
    * 树莓派因算力问题，需要等待一段时间，才能获取到模式；
    * 英伟达 Jetson 因算力问题，不需要等待一段时间，很快能够获取到模式。

![1764057336663](../image/10_绕圆功能Demo/1764057336663.png)

* 下图说明程序能够获取到无人机的模式，显示“POSCTL”时候，表示已经成功建立链接，在此之后调整好无人机位置和朝向后即可准备切换到offboard模式控制。

![1764057521488](../image/10_绕圆功能Demo/1764057521488.png)

* 切换至offboard模式后，即可开始响应并执行机载程序控制。

![1764058071545](../image/12_多项式轨迹demo/1764058071545.png)

**飞手飞行流程：**
- 在多旋翼模式下进行解锁和垂直起飞，起飞时机头应朝向**逆风方向**；
- 飞行至约 30–40 米高度后，确保前方无遮挡，机头方向开阔，准备进行模式切换；
- 拨动飞行模式切换开关，将飞行模式由**多旋翼**切换为**固定翼**；
- 切换为固定翼后，根据飞控中设定的飞行方向，使用遥控器微调航向，使飞机实际飞行方向与自主控制的预期方向尽量保持一致；切换offboard模式后，飞机会飞行跟踪第一个路径点，因此在遥控飞行切换offboard，注意微调方向。
- 确认姿态平稳后，切换至 **Offboard 模式**，开始执行自主多项式轨迹（八字）飞行任务；
- 飞行测试结束后，使用遥控器将飞机飞回起飞点附近，调整航向至逆风方向。待飞机姿态平稳且机头方向无遮挡时，拨动飞行模式切换开关，将飞行模式从**固定翼**切换为**多旋翼**模式。